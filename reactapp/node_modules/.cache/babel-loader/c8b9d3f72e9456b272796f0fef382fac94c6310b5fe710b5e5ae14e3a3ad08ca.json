{"ast":null,"code":"import _taggedTemplateLiteral from\"/Users/armeshpereira/Documents/LastAttempt/reactapp/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral.js\";var _templateObject,_templateObject2,_templateObject3,_templateObject4,_templateObject5,_templateObject6,_templateObject7,_templateObject8;import React,{useState,useCallback}from'react';import styled from'styled-components';import BLEConnection from'./components/BLEConnection';import AudioRecorder from'./components/AudioRecorder';import DeepgramTranscriber from'./components/DeepgramTranscriber';// Add error boundary and console logging\nimport{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";console.log('🚀 App component loading...');const AppContainer=styled.div(_templateObject||(_templateObject=_taggedTemplateLiteral([\"\\n  min-height: 100vh;\\n  padding: 2rem;\\n  display: flex;\\n  flex-direction: column;\\n  align-items: center;\\n  background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);\\n\"])));const Header=styled.header(_templateObject2||(_templateObject2=_taggedTemplateLiteral([\"\\n  text-align: center;\\n  margin-bottom: 2rem;\\n  color: white;\\n\"])));const Title=styled.h1(_templateObject3||(_templateObject3=_taggedTemplateLiteral([\"\\n  font-size: 3rem;\\n  font-weight: 700;\\n  margin-bottom: 0.5rem;\\n  text-shadow: 0 4px 8px rgba(0, 0, 0, 0.3);\\n  background: linear-gradient(45deg, #fff, #f0f0f0);\\n  -webkit-background-clip: text;\\n  -webkit-text-fill-color: transparent;\\n  background-clip: text;\\n\"])));const Subtitle=styled.p(_templateObject4||(_templateObject4=_taggedTemplateLiteral([\"\\n  font-size: 1.2rem;\\n  opacity: 0.9;\\n  margin: 0;\\n  text-shadow: 0 2px 4px rgba(0, 0, 0, 0.3);\\n\"])));const ComponentsContainer=styled.div(_templateObject5||(_templateObject5=_taggedTemplateLiteral([\"\\n  display: flex;\\n  flex-direction: column;\\n  gap: 1rem;\\n  width: 100%;\\n  max-width: 1200px;\\n\"])));const Row=styled.div(_templateObject6||(_templateObject6=_taggedTemplateLiteral([\"\\n  display: flex;\\n  gap: 1rem;\\n  flex-wrap: wrap;\\n  justify-content: center;\\n\\n  @media (max-width: 768px) {\\n    flex-direction: column;\\n  }\\n\"])));const StatusBar=styled.div(_templateObject7||(_templateObject7=_taggedTemplateLiteral([\"\\n  position: fixed;\\n  top: 0;\\n  left: 0;\\n  right: 0;\\n  background: rgba(255, 255, 255, 0.95);\\n  backdrop-filter: blur(10px);\\n  padding: 1rem;\\n  display: flex;\\n  justify-content: space-between;\\n  align-items: center;\\n  box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);\\n  z-index: 1000;\\n\"])));const StatusIndicator=styled.div(_templateObject8||(_templateObject8=_taggedTemplateLiteral([\"\\n  display: flex;\\n  align-items: center;\\n  gap: 0.5rem;\\n  padding: 0.5rem 1rem;\\n  border-radius: 20px;\\n  background: \",\";\\n  color: white;\\n  font-weight: 600;\\n  font-size: 0.9rem;\\n\"])),props=>props.connected?'#4CAF50':'#f44336');const App=()=>{console.log('🚀 App component rendering...');const[isConnected,setIsConnected]=useState(false);const[audioData,setAudioData]=useState(null);const[recordedAudio,setRecordedAudio]=useState(null);const[audioHandler,setAudioHandler]=useState(null);const[connectedDevice,setConnectedDevice]=useState(null);const handleConnectionChange=useCallback(connected=>{setIsConnected(connected);},[]);const handleAudioData=useCallback((data,audioStream)=>{console.log(\"\\uD83D\\uDCE1 App received audio data: \".concat(data.length,\" samples\"));// Store the continuous audio stream data\nsetAudioData(data);// Store device info from audio stream\nif(audioStream&&audioStream.device){setConnectedDevice(audioStream.device);}// Also pass to the audio handler if it exists\nif(audioHandler){console.log('📡 Passing audio data to registered handler');audioHandler(data,audioStream);}else{console.log('⚠️ No audio handler registered yet');}},[audioHandler]);const handleRecordingComplete=useCallback(audioData=>{setRecordedAudio(audioData);},[]);const handleAudioHandlerRegister=useCallback(handler=>{console.log('📡 Audio handler registered:',typeof handler);setAudioHandler(()=>handler);},[]);try{console.log('🚀 App component rendering JSX...');return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(StatusBar,{children:[/*#__PURE__*/_jsx(\"div\",{style:{fontWeight:'600',color:'#333'},children:\"\\uD83C\\uDFA4 XIAO Audio Transcriber\"}),/*#__PURE__*/_jsxs(StatusIndicator,{connected:isConnected,children:[/*#__PURE__*/_jsx(\"div\",{style:{width:'8px',height:'8px',borderRadius:'50%',background:isConnected?'#fff':'#fff'}}),isConnected?'Connected':'Disconnected']})]}),/*#__PURE__*/_jsxs(AppContainer,{style:{paddingTop:'80px'},children:[/*#__PURE__*/_jsxs(Header,{children:[/*#__PURE__*/_jsx(Title,{children:\"\\uD83C\\uDFA4 XIAO Audio Transcriber\"}),/*#__PURE__*/_jsx(Subtitle,{children:\"Connect to your XIAO board and transcribe speech in real-time with Deepgram\"})]}),/*#__PURE__*/_jsxs(ComponentsContainer,{children:[/*#__PURE__*/_jsx(Row,{children:/*#__PURE__*/_jsx(BLEConnection,{onConnectionChange:handleConnectionChange,onAudioData:handleAudioData})}),/*#__PURE__*/_jsxs(Row,{children:[/*#__PURE__*/_jsx(AudioRecorder,{isConnected:isConnected,onAudioData:handleAudioData,onRecordingComplete:handleRecordingComplete,onAudioHandlerRegister:handleAudioHandlerRegister,device:connectedDevice}),/*#__PURE__*/_jsx(DeepgramTranscriber,{isConnected:isConnected,audioData:audioData})]})]})]})]});}catch(error){console.error('❌ App component error:',error);return/*#__PURE__*/_jsxs(\"div\",{style:{padding:'2rem',textAlign:'center',background:'#f44336',color:'white',minHeight:'100vh',display:'flex',flexDirection:'column',justifyContent:'center',alignItems:'center'},children:[/*#__PURE__*/_jsx(\"h1\",{children:\"\\u274C App Error\"}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Error: \",error.message]}),/*#__PURE__*/_jsx(\"pre\",{style:{background:'rgba(0,0,0,0.2)',padding:'1rem',borderRadius:'8px'},children:error.stack})]});}};export default App;","map":{"version":3,"names":["React","useState","useCallback","styled","BLEConnection","AudioRecorder","DeepgramTranscriber","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","console","log","AppContainer","div","_templateObject","_taggedTemplateLiteral","Header","header","_templateObject2","Title","h1","_templateObject3","Subtitle","p","_templateObject4","ComponentsContainer","_templateObject5","Row","_templateObject6","StatusBar","_templateObject7","StatusIndicator","_templateObject8","props","connected","App","isConnected","setIsConnected","audioData","setAudioData","recordedAudio","setRecordedAudio","audioHandler","setAudioHandler","connectedDevice","setConnectedDevice","handleConnectionChange","handleAudioData","data","audioStream","concat","length","device","handleRecordingComplete","handleAudioHandlerRegister","handler","children","style","fontWeight","color","width","height","borderRadius","background","paddingTop","onConnectionChange","onAudioData","onRecordingComplete","onAudioHandlerRegister","error","padding","textAlign","minHeight","display","flexDirection","justifyContent","alignItems","message","stack"],"sources":["/Users/armeshpereira/Documents/LastAttempt/reactapp/src/App.js"],"sourcesContent":["import React, { useState, useCallback } from 'react';\nimport styled from 'styled-components';\nimport BLEConnection from './components/BLEConnection';\nimport AudioRecorder from './components/AudioRecorder';\nimport DeepgramTranscriber from './components/DeepgramTranscriber';\n\n// Add error boundary and console logging\nconsole.log('🚀 App component loading...');\n\nconst AppContainer = styled.div`\n  min-height: 100vh;\n  padding: 2rem;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);\n`;\n\nconst Header = styled.header`\n  text-align: center;\n  margin-bottom: 2rem;\n  color: white;\n`;\n\nconst Title = styled.h1`\n  font-size: 3rem;\n  font-weight: 700;\n  margin-bottom: 0.5rem;\n  text-shadow: 0 4px 8px rgba(0, 0, 0, 0.3);\n  background: linear-gradient(45deg, #fff, #f0f0f0);\n  -webkit-background-clip: text;\n  -webkit-text-fill-color: transparent;\n  background-clip: text;\n`;\n\nconst Subtitle = styled.p`\n  font-size: 1.2rem;\n  opacity: 0.9;\n  margin: 0;\n  text-shadow: 0 2px 4px rgba(0, 0, 0, 0.3);\n`;\n\nconst ComponentsContainer = styled.div`\n  display: flex;\n  flex-direction: column;\n  gap: 1rem;\n  width: 100%;\n  max-width: 1200px;\n`;\n\nconst Row = styled.div`\n  display: flex;\n  gap: 1rem;\n  flex-wrap: wrap;\n  justify-content: center;\n\n  @media (max-width: 768px) {\n    flex-direction: column;\n  }\n`;\n\nconst StatusBar = styled.div`\n  position: fixed;\n  top: 0;\n  left: 0;\n  right: 0;\n  background: rgba(255, 255, 255, 0.95);\n  backdrop-filter: blur(10px);\n  padding: 1rem;\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);\n  z-index: 1000;\n`;\n\nconst StatusIndicator = styled.div`\n  display: flex;\n  align-items: center;\n  gap: 0.5rem;\n  padding: 0.5rem 1rem;\n  border-radius: 20px;\n  background: ${props => props.connected ? '#4CAF50' : '#f44336'};\n  color: white;\n  font-weight: 600;\n  font-size: 0.9rem;\n`;\n\nconst App = () => {\n  console.log('🚀 App component rendering...');\n  \n  const [isConnected, setIsConnected] = useState(false);\n  const [audioData, setAudioData] = useState(null);\n  const [recordedAudio, setRecordedAudio] = useState(null);\n  const [audioHandler, setAudioHandler] = useState(null);\n  const [connectedDevice, setConnectedDevice] = useState(null);\n\n  const handleConnectionChange = useCallback((connected) => {\n    setIsConnected(connected);\n  }, []);\n\n  const handleAudioData = useCallback((data, audioStream) => {\n    console.log(`📡 App received audio data: ${data.length} samples`);\n    \n    // Store the continuous audio stream data\n    setAudioData(data);\n    \n    // Store device info from audio stream\n    if (audioStream && audioStream.device) {\n      setConnectedDevice(audioStream.device);\n    }\n    \n    // Also pass to the audio handler if it exists\n    if (audioHandler) {\n      console.log('📡 Passing audio data to registered handler');\n      audioHandler(data, audioStream);\n    } else {\n      console.log('⚠️ No audio handler registered yet');\n    }\n  }, [audioHandler]);\n\n  const handleRecordingComplete = useCallback((audioData) => {\n    setRecordedAudio(audioData);\n  }, []);\n\n  const handleAudioHandlerRegister = useCallback((handler) => {\n    console.log('📡 Audio handler registered:', typeof handler);\n    setAudioHandler(() => handler);\n  }, []);\n\n  try {\n    console.log('🚀 App component rendering JSX...');\n    \n    return (\n      <>\n        <StatusBar>\n          <div style={{ fontWeight: '600', color: '#333' }}>\n            🎤 XIAO Audio Transcriber\n          </div>\n          <StatusIndicator connected={isConnected}>\n            <div style={{ \n              width: '8px', \n              height: '8px', \n              borderRadius: '50%', \n              background: isConnected ? '#fff' : '#fff' \n            }} />\n            {isConnected ? 'Connected' : 'Disconnected'}\n          </StatusIndicator>\n        </StatusBar>\n\n        <AppContainer style={{ paddingTop: '80px' }}>\n          <Header>\n            <Title>🎤 XIAO Audio Transcriber</Title>\n            <Subtitle>\n              Connect to your XIAO board and transcribe speech in real-time with Deepgram\n            </Subtitle>\n          </Header>\n\n          <ComponentsContainer>\n            <Row>\n              <BLEConnection \n                onConnectionChange={handleConnectionChange}\n                onAudioData={handleAudioData}\n              />\n            </Row>\n\n            <Row>\n              <AudioRecorder \n                isConnected={isConnected}\n                onAudioData={handleAudioData}\n                onRecordingComplete={handleRecordingComplete}\n                onAudioHandlerRegister={handleAudioHandlerRegister}\n                device={connectedDevice}\n              />\n              <DeepgramTranscriber \n                isConnected={isConnected}\n                audioData={audioData}\n              />\n            </Row>\n          </ComponentsContainer>\n        </AppContainer>\n      </>\n    );\n  } catch (error) {\n    console.error('❌ App component error:', error);\n    return (\n      <div style={{ \n        padding: '2rem', \n        textAlign: 'center', \n        background: '#f44336', \n        color: 'white',\n        minHeight: '100vh',\n        display: 'flex',\n        flexDirection: 'column',\n        justifyContent: 'center',\n        alignItems: 'center'\n      }}>\n        <h1>❌ App Error</h1>\n        <p>Error: {error.message}</p>\n        <pre style={{ background: 'rgba(0,0,0,0.2)', padding: '1rem', borderRadius: '8px' }}>\n          {error.stack}\n        </pre>\n      </div>\n    );\n  }\n};\n\nexport default App;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}