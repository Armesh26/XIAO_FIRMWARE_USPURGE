{"ast":null,"code":"var __awaiter = this && this.__awaiter || function (thisArg, _arguments, P, generator) {\n  function adopt(value) {\n    return value instanceof P ? value : new P(function (resolve) {\n      resolve(value);\n    });\n  }\n  return new (P || (P = Promise))(function (resolve, reject) {\n    function fulfilled(value) {\n      try {\n        step(generator.next(value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n    function rejected(value) {\n      try {\n        step(generator[\"throw\"](value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n    function step(result) {\n      result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected);\n    }\n    step((generator = generator.apply(thisArg, _arguments || [])).next());\n  });\n};\nimport { AbstractClient, noop } from \"./AbstractClient\";\nimport { CONNECTION_STATE, SOCKET_STATES } from \"../lib/constants\";\nimport { isBun } from \"../lib/runtime\";\n/**\n * Represents an error that occurred in a WebSocket-like connection.\n * @property {any} error - The underlying error object.\n * @property {string} message - A human-readable error message.\n * @property {string} type - The type of the error.\n */\n// interface WebSocketLikeError {\n//   error: any;\n//   message: string;\n//   type: string;\n// }\n/**\n * Indicates whether a native WebSocket implementation is available in the current environment.\n */\nconst NATIVE_WEBSOCKET_AVAILABLE = typeof WebSocket !== \"undefined\";\n/**\n * Represents an abstract live client that extends the AbstractClient class.\n * The AbstractLiveClient class provides functionality for connecting, reconnecting, and disconnecting a WebSocket connection, as well as sending data over the connection.\n * Subclasses of this class are responsible for setting up the connection event handlers.\n *\n * @abstract\n */\nexport class AbstractLiveClient extends AbstractClient {\n  constructor(options) {\n    super(options);\n    this.conn = null;\n    this.sendBuffer = [];\n    /**\n     * Reconnects the socket using new or existing transcription options.\n     *\n     * @param options - The transcription options to use when reconnecting the socket.\n     */\n    this.reconnect = noop;\n    const {\n      key,\n      websocket: {\n        options: websocketOptions,\n        client\n      }\n    } = this.namespaceOptions;\n    if (this.proxy) {\n      this.baseUrl = websocketOptions.proxy.url;\n    } else {\n      this.baseUrl = websocketOptions.url;\n    }\n    if (client) {\n      this.transport = client;\n    } else {\n      this.transport = null;\n    }\n    if (websocketOptions._nodeOnlyHeaders) {\n      this.headers = websocketOptions._nodeOnlyHeaders;\n    } else {\n      this.headers = {};\n    }\n    if (!(\"Authorization\" in this.headers)) {\n      this.headers[\"Authorization\"] = \"Token \".concat(key); // Add default token\n    }\n  }\n  /**\n   * Connects the socket, unless already connected.\n   *\n   * @protected Can only be called from within the class.\n   */\n  connect(transcriptionOptions, endpoint) {\n    var _this = this;\n    if (this.conn) {\n      return;\n    }\n    this.reconnect = function () {\n      let options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : transcriptionOptions;\n      _this.connect(options, endpoint);\n    };\n    const requestUrl = this.getRequestUrl(endpoint, {}, transcriptionOptions);\n    /**\n     * Custom websocket transport\n     */\n    if (this.transport) {\n      this.conn = new this.transport(requestUrl, undefined, {\n        headers: this.headers\n      });\n      return;\n    }\n    /**\n     * @summary Bun websocket transport has a bug where it's native WebSocket implementation messes up the headers\n     * @summary This is a workaround to use the WS package for the websocket connection instead of the native Bun WebSocket\n     * @summary you can track the issue here\n     * @link https://github.com/oven-sh/bun/issues/4529\n     */\n    if (isBun()) {\n      import(\"ws\").then(_ref => {\n        let {\n          default: WS\n        } = _ref;\n        this.conn = new WS(requestUrl, {\n          headers: this.headers\n        });\n        console.log(\"Using WS package\");\n        this.setupConnection();\n      });\n      return;\n    }\n    /**\n     * Native websocket transport (browser)\n     */\n    if (NATIVE_WEBSOCKET_AVAILABLE) {\n      this.conn = new WebSocket(requestUrl, [\"token\", this.namespaceOptions.key]);\n      this.setupConnection();\n      return;\n    }\n    /**\n     * Dummy websocket\n     */\n    this.conn = new WSWebSocketDummy(requestUrl, undefined, {\n      close: () => {\n        this.conn = null;\n      }\n    });\n    /**\n     * WS package for node environment\n     */\n    import(\"ws\").then(_ref2 => {\n      let {\n        default: WS\n      } = _ref2;\n      this.conn = new WS(requestUrl, undefined, {\n        headers: this.headers\n      });\n      this.setupConnection();\n    });\n  }\n  /**\n   * Disconnects the socket from the client.\n   *\n   * @param code A numeric status code to send on disconnect.\n   * @param reason A custom reason for the disconnect.\n   */\n  disconnect(code, reason) {\n    if (this.conn) {\n      this.conn.onclose = function () {}; // noop\n      if (code) {\n        this.conn.close(code, reason !== null && reason !== void 0 ? reason : \"\");\n      } else {\n        this.conn.close();\n      }\n      this.conn = null;\n    }\n  }\n  /**\n   * Returns the current connection state of the WebSocket connection.\n   *\n   * @returns The current connection state of the WebSocket connection.\n   */\n  connectionState() {\n    switch (this.conn && this.conn.readyState) {\n      case SOCKET_STATES.connecting:\n        return CONNECTION_STATE.Connecting;\n      case SOCKET_STATES.open:\n        return CONNECTION_STATE.Open;\n      case SOCKET_STATES.closing:\n        return CONNECTION_STATE.Closing;\n      default:\n        return CONNECTION_STATE.Closed;\n    }\n  }\n  /**\n   * Returns the current ready state of the WebSocket connection.\n   *\n   * @returns The current ready state of the WebSocket connection.\n   */\n  getReadyState() {\n    var _a, _b;\n    return (_b = (_a = this.conn) === null || _a === void 0 ? void 0 : _a.readyState) !== null && _b !== void 0 ? _b : SOCKET_STATES.closed;\n  }\n  /**\n   * Returns `true` is the connection is open.\n   */\n  isConnected() {\n    return this.connectionState() === CONNECTION_STATE.Open;\n  }\n  /**\n   * Sends data to the Deepgram API via websocket connection\n   * @param data Audio data to send to Deepgram\n   *\n   * Conforms to RFC #146 for Node.js - does not send an empty byte.\n   * @see https://github.com/deepgram/deepgram-python-sdk/issues/146\n   */\n  send(data) {\n    const callback = () => __awaiter(this, void 0, void 0, function* () {\n      var _a;\n      if (data instanceof Blob) {\n        if (data.size === 0) {\n          this.log(\"warn\", \"skipping `send` for zero-byte blob\", data);\n          return;\n        }\n        data = yield data.arrayBuffer();\n      }\n      if (typeof data !== \"string\") {\n        if (!(data === null || data === void 0 ? void 0 : data.byteLength)) {\n          this.log(\"warn\", \"skipping `send` for zero-byte payload\", data);\n          return;\n        }\n      }\n      (_a = this.conn) === null || _a === void 0 ? void 0 : _a.send(data);\n    });\n    if (this.isConnected()) {\n      callback();\n    } else {\n      this.sendBuffer.push(callback);\n    }\n  }\n  /**\n   * Determines whether the current instance should proxy requests.\n   * @returns {boolean} true if the current instance should proxy requests; otherwise, false\n   */\n  get proxy() {\n    var _a;\n    return this.key === \"proxy\" && !!((_a = this.namespaceOptions.websocket.options.proxy) === null || _a === void 0 ? void 0 : _a.url);\n  }\n}\nclass WSWebSocketDummy {\n  constructor(address, _protocols, options) {\n    this.binaryType = \"arraybuffer\";\n    this.onclose = () => {};\n    this.onerror = () => {};\n    this.onmessage = () => {};\n    this.onopen = () => {};\n    this.readyState = SOCKET_STATES.connecting;\n    this.send = () => {};\n    this.url = null;\n    this.url = address.toString();\n    this.close = options.close;\n  }\n}\nexport { AbstractLiveClient as AbstractWsClient };","map":{"version":3,"names":["AbstractClient","noop","CONNECTION_STATE","SOCKET_STATES","isBun","NATIVE_WEBSOCKET_AVAILABLE","WebSocket","AbstractLiveClient","constructor","options","conn","sendBuffer","reconnect","key","websocket","websocketOptions","client","namespaceOptions","proxy","baseUrl","url","transport","_nodeOnlyHeaders","headers","concat","connect","transcriptionOptions","endpoint","_this","arguments","length","undefined","requestUrl","getRequestUrl","then","_ref","default","WS","console","log","setupConnection","WSWebSocketDummy","close","_ref2","disconnect","code","reason","onclose","connectionState","readyState","connecting","Connecting","open","Open","closing","Closing","Closed","getReadyState","_b","_a","closed","isConnected","send","data","callback","__awaiter","Blob","size","arrayBuffer","byteLength","push","address","_protocols","binaryType","onerror","onmessage","onopen","toString","AbstractWsClient"],"sources":["/Users/armeshpereira/Documents/LastAttempt/reactapp/node_modules/@deepgram/sdk/src/packages/AbstractLiveClient.ts"],"sourcesContent":["import { AbstractClient, noop } from \"./AbstractClient\";\nimport { CONNECTION_STATE, SOCKET_STATES } from \"../lib/constants\";\nimport type { DeepgramClientOptions, LiveSchema } from \"../lib/types\";\nimport type { WebSocket as WSWebSocket } from \"ws\";\nimport { isBun } from \"../lib/runtime\";\n\n/**\n * Represents a constructor for a WebSocket-like object that can be used in the application.\n * The constructor takes the following parameters:\n * @param address - The URL or address of the WebSocket server.\n * @param _ignored - An optional parameter that is ignored.\n * @param options - An optional object containing headers to be included in the WebSocket connection.\n * @returns A WebSocket-like object that implements the WebSocketLike interface.\n */\ninterface WebSocketLikeConstructor {\n  new (\n    address: string | URL,\n    _ignored?: any,\n    options?: { headers: object | undefined }\n  ): WebSocketLike;\n}\n\n/**\n * Represents the types of WebSocket-like connections that can be used in the application.\n * This type is used to provide a common interface for different WebSocket implementations,\n * such as the native WebSocket API, a WebSocket wrapper library, or a dummy implementation\n * for testing purposes.\n */\ntype WebSocketLike = WebSocket | WSWebSocket | WSWebSocketDummy;\n\n/**\n * Represents the types of data that can be sent or received over a WebSocket-like connection.\n */\ntype SocketDataLike = string | ArrayBufferLike | Blob;\n\n/**\n * Represents an error that occurred in a WebSocket-like connection.\n * @property {any} error - The underlying error object.\n * @property {string} message - A human-readable error message.\n * @property {string} type - The type of the error.\n */\n// interface WebSocketLikeError {\n//   error: any;\n//   message: string;\n//   type: string;\n// }\n\n/**\n * Indicates whether a native WebSocket implementation is available in the current environment.\n */\nconst NATIVE_WEBSOCKET_AVAILABLE = typeof WebSocket !== \"undefined\";\n\n/**\n * Represents an abstract live client that extends the AbstractClient class.\n * The AbstractLiveClient class provides functionality for connecting, reconnecting, and disconnecting a WebSocket connection, as well as sending data over the connection.\n * Subclasses of this class are responsible for setting up the connection event handlers.\n *\n * @abstract\n */\nexport abstract class AbstractLiveClient extends AbstractClient {\n  public headers: { [key: string]: string };\n  public transport: WebSocketLikeConstructor | null;\n  public conn: WebSocketLike | null = null;\n  public sendBuffer: Function[] = [];\n\n  constructor(options: DeepgramClientOptions) {\n    super(options);\n\n    const {\n      key,\n      websocket: { options: websocketOptions, client },\n    } = this.namespaceOptions;\n\n    if (this.proxy) {\n      this.baseUrl = websocketOptions.proxy!.url;\n    } else {\n      this.baseUrl = websocketOptions.url;\n    }\n\n    if (client) {\n      this.transport = client;\n    } else {\n      this.transport = null;\n    }\n\n    if (websocketOptions._nodeOnlyHeaders) {\n      this.headers = websocketOptions._nodeOnlyHeaders;\n    } else {\n      this.headers = {};\n    }\n\n    if (!(\"Authorization\" in this.headers)) {\n      this.headers[\"Authorization\"] = `Token ${key}`; // Add default token\n    }\n  }\n\n  /**\n   * Connects the socket, unless already connected.\n   *\n   * @protected Can only be called from within the class.\n   */\n  protected connect(transcriptionOptions: LiveSchema, endpoint: string): void {\n    if (this.conn) {\n      return;\n    }\n\n    this.reconnect = (options = transcriptionOptions) => {\n      this.connect(options, endpoint);\n    };\n\n    const requestUrl = this.getRequestUrl(endpoint, {}, transcriptionOptions);\n\n    /**\n     * Custom websocket transport\n     */\n    if (this.transport) {\n      this.conn = new this.transport(requestUrl, undefined, {\n        headers: this.headers,\n      });\n      return;\n    }\n\n    /**\n     * @summary Bun websocket transport has a bug where it's native WebSocket implementation messes up the headers\n     * @summary This is a workaround to use the WS package for the websocket connection instead of the native Bun WebSocket\n     * @summary you can track the issue here\n     * @link https://github.com/oven-sh/bun/issues/4529\n     */\n    if (isBun()) {\n      import(\"ws\").then(({ default: WS }) => {\n        this.conn = new WS(requestUrl, {\n          headers: this.headers,\n        });\n        console.log(`Using WS package`);\n        this.setupConnection();\n      });\n      return;\n    }\n\n    /**\n     * Native websocket transport (browser)\n     */\n    if (NATIVE_WEBSOCKET_AVAILABLE) {\n      this.conn = new WebSocket(requestUrl, [\"token\", this.namespaceOptions.key]);\n      this.setupConnection();\n      return;\n    }\n\n    /**\n     * Dummy websocket\n     */\n    this.conn = new WSWebSocketDummy(requestUrl, undefined, {\n      close: () => {\n        this.conn = null;\n      },\n    });\n\n    /**\n     * WS package for node environment\n     */\n    import(\"ws\").then(({ default: WS }) => {\n      this.conn = new WS(requestUrl, undefined, {\n        headers: this.headers,\n      });\n      this.setupConnection();\n    });\n  }\n\n  /**\n   * Reconnects the socket using new or existing transcription options.\n   *\n   * @param options - The transcription options to use when reconnecting the socket.\n   */\n  public reconnect: (options: LiveSchema) => void = noop;\n\n  /**\n   * Disconnects the socket from the client.\n   *\n   * @param code A numeric status code to send on disconnect.\n   * @param reason A custom reason for the disconnect.\n   */\n  public disconnect(code?: number, reason?: string): void {\n    if (this.conn) {\n      this.conn.onclose = function () {}; // noop\n      if (code) {\n        this.conn.close(code, reason ?? \"\");\n      } else {\n        this.conn.close();\n      }\n      this.conn = null;\n    }\n  }\n\n  /**\n   * Returns the current connection state of the WebSocket connection.\n   *\n   * @returns The current connection state of the WebSocket connection.\n   */\n  public connectionState(): CONNECTION_STATE {\n    switch (this.conn && this.conn.readyState) {\n      case SOCKET_STATES.connecting:\n        return CONNECTION_STATE.Connecting;\n      case SOCKET_STATES.open:\n        return CONNECTION_STATE.Open;\n      case SOCKET_STATES.closing:\n        return CONNECTION_STATE.Closing;\n      default:\n        return CONNECTION_STATE.Closed;\n    }\n  }\n\n  /**\n   * Returns the current ready state of the WebSocket connection.\n   *\n   * @returns The current ready state of the WebSocket connection.\n   */\n  public getReadyState(): SOCKET_STATES {\n    return this.conn?.readyState ?? SOCKET_STATES.closed;\n  }\n\n  /**\n   * Returns `true` is the connection is open.\n   */\n  public isConnected(): boolean {\n    return this.connectionState() === CONNECTION_STATE.Open;\n  }\n\n  /**\n   * Sends data to the Deepgram API via websocket connection\n   * @param data Audio data to send to Deepgram\n   *\n   * Conforms to RFC #146 for Node.js - does not send an empty byte.\n   * @see https://github.com/deepgram/deepgram-python-sdk/issues/146\n   */\n  send(data: SocketDataLike): void {\n    const callback = async () => {\n      if (data instanceof Blob) {\n        if (data.size === 0) {\n          this.log(\"warn\", \"skipping `send` for zero-byte blob\", data);\n\n          return;\n        }\n\n        data = await data.arrayBuffer();\n      }\n\n      if (typeof data !== \"string\") {\n        if (!data?.byteLength) {\n          this.log(\"warn\", \"skipping `send` for zero-byte payload\", data);\n\n          return;\n        }\n      }\n\n      this.conn?.send(data);\n    };\n\n    if (this.isConnected()) {\n      callback();\n    } else {\n      this.sendBuffer.push(callback);\n    }\n  }\n\n  /**\n   * Determines whether the current instance should proxy requests.\n   * @returns {boolean} true if the current instance should proxy requests; otherwise, false\n   */\n  get proxy(): boolean {\n    return this.key === \"proxy\" && !!this.namespaceOptions.websocket.options.proxy?.url;\n  }\n\n  /**\n   * Sets up the connection event handlers.\n   *\n   * @abstract Requires subclasses to set up context aware event handlers.\n   */\n  abstract setupConnection(): void;\n}\n\nclass WSWebSocketDummy {\n  binaryType: string = \"arraybuffer\";\n  close: Function;\n  onclose: Function = () => {};\n  onerror: Function = () => {};\n  onmessage: Function = () => {};\n  onopen: Function = () => {};\n  readyState: number = SOCKET_STATES.connecting;\n  send: Function = () => {};\n  url: string | URL | null = null;\n\n  constructor(address: URL, _protocols: undefined, options: { close: Function }) {\n    this.url = address.toString();\n    this.close = options.close;\n  }\n}\n\nexport { AbstractLiveClient as AbstractWsClient };\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}